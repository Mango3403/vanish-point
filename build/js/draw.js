!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";let r,o,a,u;n.r(t),n.d(t,"setupCanvasDrawing",function(){return d}),n.d(t,"draw",function(){return l}),n.d(t,"setBackgroundTransparent",function(){return s}),n.d(t,"setBackgroundColor",function(){return p}),n.d(t,"addText",function(){return m}),n.d(t,"addImage",function(){return g});document.getElementById("drawing-text-input");let i=document.getElementById("drawing-text-btn"),f=document.getElementById("drawing-image-btn"),c=!1;function d(e){r=new fabric.Canvas("drawing-canvas"),o=new THREE.Vector2,a=r.lowerCanvasEl,(u=a.getContext("2d")).fillStyle="rgba(0,0,0,0)",u.fillRect(0,0,128,128),e.map=new THREE.CanvasTexture(a),a.addEventListener("mousedown",function(e){c=!0,o.set(e.offsetX,e.offsetY)}),a.addEventListener("mousemove",function(t){c&&l(e,u,t.offsetX,t.offsetY)}),a.addEventListener("mouseup",function(){c=!1}),a.addEventListener("mouseleave",function(){c=!1})}function l(e,t,n,r){t.moveTo(o.x,o.y),t.strokeStyle="#FFFFFF",t.lineTo(n,r),t.stroke(),o.set(n,r),e.map.needsUpdate=!0}function s(){let{plane:e}=planes[0];e.material.transparent=!0}function p(){let{plane:e}=planes[0];e.material.transparent=!1}function m(){i.addEventListener("click",function(){let e=new fabric.Text("你好",{left:30,top:30,stroke:"#FFFFFF"});r.add(e)},!1)}function g(){f.addEventListener("click",function(){fabric.Image.fromURL("/media/shoe.jpg",function(e){e.scaleX=e.scaleY=.1,e.filters.push(new fabric.Image.filters.Grayscale),e.applyFilters(),r.add(e)})},!1)}}]);